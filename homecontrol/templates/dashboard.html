<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    {%block title %} | EverMix Tech {% endblock title%}
  </title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


  <!--Data Tables-->
  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.6/css/dataTables.dataTables.css" />
  <script src="https://cdn.datatables.net/2.3.6/js/dataTables.js"></script> 




</head>

<style>
  body {
    background: linear-gradient(180deg, #f8fafc, #eef2ff);
    font-family: Inter, system-ui, -apple-system, sans-serif;
  }

  .glass {
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,.06);
  }

  .sidebar {
    width: 260px;
    min-height: 100vh;
  }

  .sidebar a {
    border-radius: 12px;
    padding: 10px 14px;
    color: #334155;
  }

  .sidebar a.active,
  .sidebar a:hover {
    background: linear-gradient(90deg, #6366f1, #22d3ee);
    color: white;
  }

  .metric-card h3 {
    font-weight: 700;
  }

  .icon-circle {
    width: 42px;
    height: 42px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }



  /* Slide animations for alerts */
.slide-alert {
  transform: translateX(120%);
  transition: transform 0.55s cubic-bezier(0.22, 1, 0.36, 1);
  will-change: transform;
}

.slide-alert.show {
  transform: translateX(0);
}

.slide-alert.hide {
  transform: translateX(120%);
}

</style>


{% block style %}{% endblock style %}


<body class="bg-light">
  <body>

<div class="d-flex">

  <!-- Sidebar -->
  <aside class="sidebar bg-white p-4 d-none d-lg-block">
    <h5 class="fw-bold mb-4">ðŸš€ Pro Portal</h5>


    {% if module == 'finance' %}
    <nav class="d-flex flex-column gap-2">
      <a class="active text-decoration-none" href="{% url "homecontrol:dashboard" %}"><i class="bi bi-house me-2"></i> Home</a>
      <a class="text-decoration-none" href="{% url "finance:category_list" module=module %}"><i class="bi bi-folder-fill me-2"></i> Expense Category</a>
      <a class="text-decoration-none" href="{% url "finance:exp_list" module=module %}"><i class="bi bi-cash-coin me-2"></i> Expense Trnx.</a>
      <a class="text-decoration-none" href="{% url "finance:debt_list" module=module %}"><i class="bi bi-cash-coin me-2"></i> Debts</a>

      {% comment %} <a class="text-decoration-none" href="{% url 'finance:finance_dashboard' module=module %}"><i class="bi bi-currency-dollar me-2"></i> Finance</a> {% endcomment %}
      {% comment %} <a class="text-decoration-none" href="#"><i class="bi bi-people me-2"></i> Team</a> {% endcomment %}
      {% comment %} <a class="text-decoration-none" href="#"><i class="bi bi-gear me-2"></i> Settings</a> {% endcomment %}
    </nav>
    {% else %}
    <nav class="d-flex flex-column gap-2">
      <a class="active text-decoration-none" href="{% url "homecontrol:dashboard" %}"><i class="bi bi-house me-2"></i> Home</a>

      <a class="text-decoration-none" href="{% url "chat:chat_index" %}"><i class="bi bi-chat-dots me-2"></i> Chat</a>
      
      <a class="text-decoration-none" href="{% url 'finance:finance_dashboard' module='finance' %}"><i class="bi bi-currency-dollar me-2"></i> Finance</a>
      <a class="text-decoration-none" href="#"><i class="bi bi-folder me-2"></i> Projects</a>

      <a class="text-decoration-none" href="#"><i class="bi bi-people me-2"></i> Team</a>
      <a class="text-decoration-none" href="#"><i class="bi bi-gear me-2"></i> Settings</a>
    </nav>
    
    {% endif %}


  </aside>

  <!-- Main Content -->
      {% if messages %}
      <div class="position-fixed top-0 end-0 p-4" style="z-index:1055;">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible glass shadow-sm slide-alert"
              role="alert"
              style="min-width:320px;">
            
            {% if message.tags == 'success' %}
              <i class="bi bi-check-circle-fill me-2 text-success"></i>
            {% elif message.tags == 'error' %}
              <i class="bi bi-x-circle-fill me-2 text-danger"></i>
            {% elif message.tags == 'warning' %}
              <i class="bi bi-exclamation-triangle-fill me-2 text-warning"></i>
            {% else %}
              <i class="bi bi-info-circle-fill me-2 text-primary"></i>
            {% endif %}

            <span class="fw-semibold">{{ message }}</span>

            <button type="button"
                    class="btn-close"
                    onclick="closeSlideAlert(this)">
            </button>
          </div>
        {% endfor %}
      </div>
    {% endif %}


  {% block content %}
  
  {% endblock content %}
</div>

</body>





<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".slide-alert").forEach((alert, index) => {
      // Small stagger for premium feel
      setTimeout(() => {
        alert.classList.add("show");
      }, index * 120);

      // Auto close after 4 seconds
      setTimeout(() => {
        closeAlert(alert);
      }, 6000 + index * 120);
    });
  });

  function closeSlideAlert(btn) {
    const alert = btn.closest('.slide-alert');
    closeAlert(alert);
  }

  function closeAlert(alert) {
    alert.classList.remove("show");
    alert.classList.add("hide");

    // Remove from DOM after animation
    setTimeout(() => {
      alert.remove();
    }, 600);
  }
</script>

<script>
{% block script %}

{% endblock script %}
</script>

</body>
</html>
